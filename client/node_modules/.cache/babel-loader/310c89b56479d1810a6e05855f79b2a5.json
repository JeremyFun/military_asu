{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/vladislav/Documents/GitHub/military_asu/client/src/components/Table/TableComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport \"../../App.css\";\nimport { useSelector } from 'react-redux';\nimport MaterialTable from \"material-table\";\nimport { dataArray, dataColumn } from \"../../data\";\nimport { useHttp } from \"../../hook/http.hook\";\nimport { logger } from \"../lib/utils/logger\";\nexport const TableComponent = () => {\n  _s();\n\n  const {\n    request\n  } = useHttp();\n  const [columns, setColumns] = useState(dataColumn); // const [data, setData] = useState(dataArray);\n  // const cols = useSelector(state => state.data.cols)\n\n  const data = useSelector(state => state.data.parsedData).slice(1);\n  useEffect(async () => {\n    const dataObject = [];\n    data.map(el => {\n      if (el.length !== 0) {\n        dataObject.push({ ...el\n        });\n      }\n    });\n\n    if (dataObject.length > 0) {\n      try {\n        await request(`http://localhost:8080/table`, 'POST', dataObject);\n      } catch (e) {\n        console.log(e, 'e in TableComponent');\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MaterialTable, {\n    title: \"\",\n    columns: columns,\n    data: data,\n    options: {\n      pageSize: 10,\n      pageSizeOptions: [20, 30, 40, 50, 60, 70, 80]\n    },\n    cellEditable: {\n      onCellEditApproved: (newValue, oldValue, rowData, columnDef) => {\n        // rowData[columnDef.field] = newValue\n        return new Promise(async (resolve, reject) => {\n          console.log('newValue: ' + newValue);\n          setTimeout(resolve, 1000);\n          console.log(data); // await request(`https://localhost:8080/table`, 'POST', data)\n        });\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TableComponent, \"5se4kLA4m4cZB6QTVwWZzXbPzEc=\", false, function () {\n  return [useHttp, useSelector];\n});\n\n_c = TableComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableComponent\");","map":{"version":3,"sources":["/home/vladislav/Documents/GitHub/military_asu/client/src/components/Table/TableComponent.jsx"],"names":["React","useEffect","useState","styled","useSelector","MaterialTable","dataArray","dataColumn","useHttp","logger","TableComponent","request","columns","setColumns","data","state","parsedData","slice","dataObject","map","el","length","push","e","console","log","pageSize","pageSizeOptions","onCellEditApproved","newValue","oldValue","rowData","columnDef","Promise","resolve","reject","setTimeout"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAO,eAAP;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAAQC,SAAR,EAAmBC,UAAnB,QAAoC,YAApC;AACA,SAAQC,OAAR,QAAsB,sBAAtB;AACA,SAAQC,MAAR,QAAqB,qBAArB;AAGA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAChC,QAAM;AAACC,IAAAA;AAAD,MAAYH,OAAO,EAAzB;AACA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAACK,UAAD,CAAtC,CAFgC,CAGhC;AACA;;AACA,QAAMO,IAAI,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACD,IAAN,CAAWE,UAArB,CAAX,CAA4CC,KAA5C,CAAkD,CAAlD,CAAb;AACAhB,EAAAA,SAAS,CAAC,YAAY;AAClB,UAAMiB,UAAU,GAAG,EAAnB;AACAJ,IAAAA,IAAI,CAACK,GAAL,CAASC,EAAE,IAAI;AACX,UAAIA,EAAE,CAACC,MAAH,KAAc,CAAlB,EAAqB;AACjBH,QAAAA,UAAU,CAACI,IAAX,CAAgB,EAAC,GAAGF;AAAJ,SAAhB;AACH;AACJ,KAJD;;AAKA,QAAIF,UAAU,CAACG,MAAX,GAAoB,CAAxB,EAA2B;AACvB,UAAI;AACA,cAAMV,OAAO,CAAE,6BAAF,EAAgC,MAAhC,EAAwCO,UAAxC,CAAb;AACH,OAFD,CAGA,OAAOK,CAAP,EAAU;AACNC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,EAAe,qBAAf;AACH;AACJ;AACJ,GAfQ,EAeN,EAfM,CAAT;AAgBA,sBACI,QAAC,aAAD;AACI,IAAA,KAAK,EAAC,EADV;AAEI,IAAA,OAAO,EAAEX,OAFb;AAGI,IAAA,IAAI,EAAEE,IAHV;AAII,IAAA,OAAO,EAAE;AACLY,MAAAA,QAAQ,EAAE,EADL;AAELC,MAAAA,eAAe,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;AAFZ,KAJb;AAQI,IAAA,YAAY,EAAE;AACVC,MAAAA,kBAAkB,EAAE,CAACC,QAAD,EAAWC,QAAX,EAAqBC,OAArB,EAA8BC,SAA9B,KAA4C;AAC5D;AACA,eAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC1CX,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAeI,QAA3B;AACAO,UAAAA,UAAU,CAACF,OAAD,EAAU,IAAV,CAAV;AACAV,UAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ,EAH0C,CAI1C;AACH,SALM,CAAP;AAMH;AATS;AARlB;AAAA;AAAA;AAAA;AAAA,UADJ;AAsBH,CA5CM;;GAAMJ,c;UACSF,O,EAILJ,W;;;KALJM,c","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport styled from 'styled-components'\nimport \"../../App.css\"\nimport {useSelector} from 'react-redux'\nimport MaterialTable from \"material-table\";\nimport {dataArray, dataColumn} from \"../../data\";\nimport {useHttp} from \"../../hook/http.hook\";\nimport {logger} from \"../lib/utils/logger\";\n\n\nexport const TableComponent = () => {\n    const {request} = useHttp();\n    const [columns, setColumns] = useState(dataColumn);\n    // const [data, setData] = useState(dataArray);\n    // const cols = useSelector(state => state.data.cols)\n    const data = useSelector(state => state.data.parsedData).slice(1)\n    useEffect(async () => {\n        const dataObject = []\n        data.map(el => {\n            if (el.length !== 0) {\n                dataObject.push({...el})\n            }\n        })\n        if (dataObject.length > 0) {\n            try {\n                await request(`http://localhost:8080/table`, 'POST', dataObject)\n            }\n            catch (e) {\n                console.log(e, 'e in TableComponent')\n            }\n        }\n    }, [])\n    return (\n        <MaterialTable\n            title=\"\"\n            columns={columns}\n            data={data}\n            options={{\n                pageSize: 10,\n                pageSizeOptions: [20, 30, 40, 50, 60, 70, 80]\n            }}\n            cellEditable={{\n                onCellEditApproved: (newValue, oldValue, rowData, columnDef) => {\n                    // rowData[columnDef.field] = newValue\n                    return new Promise(async (resolve, reject) => {\n                        console.log('newValue: ' + newValue);\n                        setTimeout(resolve, 1000);\n                        console.log(data)\n                        // await request(`https://localhost:8080/table`, 'POST', data)\n                    });\n                }\n            }}\n        />\n    )\n}\n"]},"metadata":{},"sourceType":"module"}